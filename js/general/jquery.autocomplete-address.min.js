!function(l,e,t,a){var s="autocompleteAddress",o={publicAPI:"https://viacep.com.br/ws/{{cep}}/json/",address:"",neighborhood:"",city:"",state:"",setReadonly:!0};function i(e,t){this.element=e,this.settings=l.extend({},o,t),this._defaults=o,this._name=s,this.init()}l.extend(i.prototype,{init:function(){self=this,$cep=l(this.element),$address=this.getData("autocomplete-address"),$complement=this.getData("autocomplete-complement"),$neighborhood=this.getData("autocomplete-neighborhood"),$city=this.getData("autocomplete-city"),$state=this.getData("autocomplete-state"),currentCep=$cep.val(),$cep.mask&&$cep.mask("99999-999"),$cep.on("blur change keyup",function(){var e=$cep.val();(e=e.replace(/\-|\./g,""))&&currentCep!==e&&8===e.length&&(currentCep=e,self.sendRequest())})},getData:function(e){var t=l(this.settings[e.replace("autocomplete-","")]);return 0===t.length&&0===(t=l("."+e)).length&&(t=l("[data-"+e+"]")),t},sendRequest:function(){var e=currentCep.replace("-","");l.ajax({url:this.settings.publicAPI.replace("{{cep}}",e),type:"GET",dataType:"json",success:function(e){self.bindValues(e)},ajaxError:function(){$address.closest(".float-label").find("label.float").removeClass("show"),$address.removeClass("disabled").removeAttr("readonly"),$complement.closest(".float-label").find("label.float").removeClass("show"),$complement.removeClass("disabled").removeAttr("readonly"),$neighborhood.closest(".float-label").find("label.float").removeClass("show"),$neighborhood.removeClass("disabled").removeAttr("readonly"),$city.closest(".float-label").find("label.float").removeClass("show"),$city.removeClass("disabled").removeAttr("readonly"),$state.closest(".float-label").find("label.float").removeClass("show"),$state.removeClass("disabled").removeAttr("readonly")}})},bindValues:function(e){$address.val(e.logradouro),$complement.val(e.complemento),$neighborhood.val(e.bairro),$state.val(e.uf),$state.is("select")?($state.children('option:contains("'+e.uf+'")').prop("selected",!0),$state.next().hasClass("nice-select")&&$state.niceSelect("update")):$state.val(e.uf),$state.change(),$city.is("select")?($city.children('option:contains("'+e.localidade+'")').prop("selected",!0),$city.data("select",e.localidade)):$city.val(e.localidade),$city.change(),this.settings.setReadonly&&this.checkStatusField([$address,$neighborhood,$city,$state])},checkStatusField:function(e){for(var t,a,s=e.length;s--;)a=(t=l(e[s])).val(),0<e[s].length&&a&&a.match(/[a-z]/i)?(l("#FormCadastro, #FormCadastroSteps").validate().element(t),t.closest(".float-label").find("label.float").addClass("show"),t.addClass("disabled").attr("readonly","readonly"),t.is("select")&&t.parents(".selectric-hide-select").length&&t.attr("disabled","disabled").selectric("refresh")):(l("#FormCadastro, #FormCadastroSteps").validate().element(t),t.closest(".float-label").find("label.float").removeClass("show"),t.removeClass("disabled").removeAttr("readonly"),t.is("select")&&t.parents(".selectric-hide-select").length&&t.removeAttr("disabled").selectric("refresh"))}}),l.fn[s]=function(e){return this.each(function(){l.data(this,"plugin_"+s)||l.data(this,"plugin_"+s,new i(this,e))}),this}}(jQuery,window,document);